/*******************************************************************************
 * Copyright 2017 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
if (window.Element && !Element.prototype.closest) {
    // eslint valid-jsdoc: "off"
    Element.prototype.closest =
        function(s) {
            "use strict";
            var matches = (this.document || this.ownerDocument).querySelectorAll(s);
            var el      = this;
            var i;
            do {
                i = matches.length;
                while (--i >= 0 && matches.item(i) !== el) {
                    // continue
                }
            } while ((i < 0) && (el = el.parentElement));
            return el;
        };
}

if (window.Element && !Element.prototype.matches) {
    Element.prototype.matches =
        Element.prototype.matchesSelector ||
        Element.prototype.mozMatchesSelector ||
        Element.prototype.msMatchesSelector ||
        Element.prototype.oMatchesSelector ||
        Element.prototype.webkitMatchesSelector ||
        function(s) {
            "use strict";
            var matches = (this.document || this.ownerDocument).querySelectorAll(s);
            var i       = matches.length;
            while (--i >= 0 && matches.item(i) !== this) {
                // continue
            }
            return i > -1;
        };
}

if (!Object.assign) {
    Object.assign = function(target, varArgs) { // .length of function is 2
        "use strict";
        if (target === null) {
            throw new TypeError("Cannot convert undefined or null to object");
        }

        var to = Object(target);

        for (var index = 1; index < arguments.length; index++) {
            var nextSource = arguments[index];

            if (nextSource !== null) {
                for (var nextKey in nextSource) {
                    if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {
                        to[nextKey] = nextSource[nextKey];
                    }
                }
            }
        }
        return to;
    };
}

(function(arr) {
    "use strict";
    arr.forEach(function(item) {
        if (Object.prototype.hasOwnProperty.call(item, "remove")) {
            return;
        }
        Object.defineProperty(item, "remove", {
            configurable: true,
            enumerable: true,
            writable: true,
            value: function remove() {
                this.parentNode.removeChild(this);
            }
        });
    });
})([Element.prototype, CharacterData.prototype, DocumentType.prototype]);

/*******************************************************************************
 * Copyright 2022 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function(document) {
    "use strict";

    window.CMP = window.CMP || {};
    window.CMP.utils = (function() {
        var NS = "cmp";

        /**
         * Reads options data from the Component wrapper element, defined via {@code data-cmp-*} data attributes
         *
         * @param {HTMLElement} element The component element to read options data from
         * @param {String} is The component identifier
         * @returns {String[]} The options read from the component data attributes
         */
        var readData = function(element, is) {
            var data = element.dataset;
            var options = [];
            var capitalized = is;
            capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
            var reserved = ["is", "hook" + capitalized];

            for (var key in data) {
                if (Object.prototype.hasOwnProperty.call(data, key)) {
                    var value = data[key];

                    if (key.indexOf(NS) === 0) {
                        key = key.slice(NS.length);
                        key = key.charAt(0).toLowerCase() + key.substring(1);

                        if (reserved.indexOf(key) === -1) {
                            options[key] = value;
                        }
                    }
                }
            }
            return options;
        };

        /**
         * Set up the final properties of a component by evaluating the transform function or fall back to the default value on demand
         * @param {String[]} options the options to transform
         * @param {Object} properties object of properties of property functions
         * @returns {Object} transformed properties
         */
        var setupProperties = function(options, properties) {
            var transformedProperties = {};

            for (var key in properties) {
                if (Object.prototype.hasOwnProperty.call(properties, key)) {
                    var property = properties[key];
                    if (options && options[key] != null) {
                        if (property && typeof property.transform === "function") {
                            transformedProperties[key] = property.transform(options[key]);
                        } else {
                            transformedProperties[key] = options[key];
                        }
                    } else {
                        transformedProperties[key] = properties[key]["default"];
                    }
                }
            }
            return transformedProperties;
        };


        return {
            readData: readData,
            setupProperties: setupProperties
        };
    }());
}(window.document));

/*******************************************************************************
 * Copyright 2022 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function(document) {
    "use strict";

    window.CMP = window.CMP || {};
    window.CMP.image = window.CMP.image || {};
    window.CMP.image.dynamicMedia = (function() {
        var autoSmartCrops = {};
        var SRC_URI_TEMPLATE_WIDTH_VAR = "{.width}";
        var SRC_URI_TEMPLATE_DPR_VAR = "{dpr}";
        var SRC_URI_DPR_OFF = "dpr=off";
        var SRC_URI_DPR_ON = "dpr=on,{dpr}";
        var dpr = window.devicePixelRatio || 1;
        var config = {
            minWidth: 20
        };

        /**
         * get auto smart crops from dm
         * @param {String} src the src uri
         * @returns {{}} the smart crop json object
         */
        var getAutoSmartCrops = function(src) {
            var request = new XMLHttpRequest();
            var url = src.split(SRC_URI_TEMPLATE_WIDTH_VAR)[0] + "?req=set,json";
            request.open("GET", url, false);
            request.onload = function() {
                if (request.status >= 200 && request.status < 400) {
                    // success status
                    var responseText = request.responseText;
                    var rePayload = new RegExp(/^(?:\/\*jsonp\*\/)?\s*([^()]+)\(([\s\S]+),\s*"[0-9]*"\);?$/gmi);
                    var rePayloadJSON = new RegExp(/^{[\s\S]*}$/gmi);
                    var resPayload = rePayload.exec(responseText);
                    var payload;
                    if (resPayload) {
                        var payloadStr = resPayload[2];
                        if (rePayloadJSON.test(payloadStr)) {
                            payload = JSON.parse(payloadStr);
                        }

                    }
                    // check "relation" - only in case of smartcrop preset
                    if (payload && payload.set.relation && payload.set.relation.length > 0) {
                        for (var i = 0; i < payload.set.relation.length; i++) {
                            autoSmartCrops[parseInt(payload.set.relation[i].userdata.SmartCropWidth)] =
                                ":" + payload.set.relation[i].userdata.SmartCropDef;
                        }
                    }
                } else {
                    // error status
                }
            };
            request.send();
            return autoSmartCrops;
        };

        /**
         * Build and return the srcset value based on the available auto smart crops
         * @param {String} src the src uri
         * @param {Object} smartCrops the smart crops object
         * @returns {String} the srcset
         */
        var getSrcSet = function(src, smartCrops) {
            var srcset;
            var keys = Object.keys(smartCrops);
            if (keys.length > 0) {
                srcset = [];
                for (var key in autoSmartCrops) {
                    srcset.push(src.replace(SRC_URI_TEMPLATE_WIDTH_VAR, smartCrops[key]) + " " + key + "w");
                }
            }
            return  srcset.join(",");
        };

        /**
         * Get the optimal width based on the available sizes
         * @param {[Number]} sizes the available sizes
         * @param {Number} width the element width
         * @returns {String} the optimal width
         */
        function getOptimalWidth(sizes, width) {
            var len = sizes.length;
            var key = 0;

            while ((key < len - 1) && (sizes[key] < width)) {
                key++;
            }

            return sizes[key] !== undefined ? sizes[key].toString() : width;
        }

        /**
         * Get the width of an element or parent element if the width is smaller than the minimum width
         * @param {HTMLElement} component the image component
         * @param {HTMLElement | Node} parent the parent element
         * @returns {Number} the width of the element
         */
        var getWidth = function(component, parent) {
            var width = component.offsetWidth;
            while (width < config.minWidth && parent && !component._autoWidth) {
                width =  parent.offsetWidth;
                parent = parent.parentNode;
            }
            return width;
        };

        /**
         * Set the src and srcset attribute for a Dynamic Media Image which auto smart crops enabled.
         * @param {HTMLElement} component the image component
         * @param {{}} properties the component properties
         */
        var setDMAttributes = function(component, properties) {
            // for v3 we first have to turn the dpr on
            var src = properties.src.replace(SRC_URI_DPR_OFF, SRC_URI_DPR_ON);
            src = src.replace(SRC_URI_TEMPLATE_DPR_VAR, dpr);
            var smartCrops = {};
            var width;
            if (properties["smartcroprendition"] === "SmartCrop:Auto") {
                smartCrops = getAutoSmartCrops(src);
            }
            var hasWidths = (properties.widths && properties.widths.length > 0) || Object.keys(smartCrops).length > 0;
            if (hasWidths) {
                var image = component.querySelector("img");
                var elemWidth = getWidth(component, component.parentNode);
                if (properties["smartcroprendition"] === "SmartCrop:Auto") {
                    image.setAttribute("srcset", CMP.image.dynamicMedia.getSrcSet(src, smartCrops));
                    width = getOptimalWidth(Object.keys(smartCrops, elemWidth));
                    image.setAttribute("src", CMP.image.dynamicMedia.getSrc(src, smartCrops[width]));
                } else {
                    width = getOptimalWidth(properties.widths, elemWidth);
                    image.setAttribute("src", CMP.image.dynamicMedia.getSrc(src, width));
                }
            }
        };

        /**
         * Get the src attribute based on the optimal width
         * @param {String} src the src uri
         * @param {String} width the element width
         * @returns {String} the final src attribute
         */
        var getSrc = function(src, width) {
            if (src.indexOf(SRC_URI_TEMPLATE_WIDTH_VAR) > -1) {
                src = src.replace(SRC_URI_TEMPLATE_WIDTH_VAR, width);
            }
            return src;
        };


        return {
            getAutoSmartCrops: getAutoSmartCrops,
            getSrcSet: getSrcSet,
            getSrc: getSrc,
            setDMAttributes: setDMAttributes,
            getWidth: getWidth
        };
    }());
    document.dispatchEvent(new CustomEvent("core.wcm.components.commons.site.image.dynamic-media.loaded"));
}(window.document));

/*******************************************************************************
 * Copyright 2016 Adobe
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 ******************************************************************************/
(function() {
    "use strict";

    var NS = "cmp";
    var IS = "image";

    var EMPTY_PIXEL = "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";
    var LAZY_THRESHOLD_DEFAULT = 0;
    var SRC_URI_TEMPLATE_WIDTH_VAR = "{.width}";
    var SRC_URI_TEMPLATE_WIDTH_VAR_ASSET_DELIVERY = "width={width}";
    var SRC_URI_TEMPLATE_DPR_VAR = "{dpr}";

    var selectors = {
        self: "[data-" + NS + '-is="' + IS + '"]',
        image: '[data-cmp-hook-image="image"]',
        map: '[data-cmp-hook-image="map"]',
        area: '[data-cmp-hook-image="area"]'
    };

    var lazyLoader = {
        "cssClass": "cmp-image__image--is-loading",
        "style": {
            "height": 0,
            "padding-bottom": "" // will be replaced with % ratio
        }
    };

    var properties = {
        /**
         * An array of alternative image widths (in pixels).
         * Used to replace a {.width} variable in the src property with an optimal width if a URI template is provided.
         *
         * @memberof Image
         * @type {Number[]}
         * @default []
         */
        "widths": {
            "default": [],
            "transform": function(value) {
                var widths = [];
                value.split(",").forEach(function(item) {
                    item = parseFloat(item);
                    if (!isNaN(item)) {
                        widths.push(item);
                    }
                });
                return widths;
            }
        },
        /**
         * Indicates whether the image should be rendered lazily.
         *
         * @memberof Image
         * @type {Boolean}
         * @default false
         */
        "lazy": {
            "default": false,
            "transform": function(value) {
                return !(value === null || typeof value === "undefined");
            }
        },
        /**
         * Indicates image is DynamicMedia image.
         *
         * @memberof Image
         * @type {Boolean}
         * @default false
         */
        "dmimage": {
            "default": false,
            "transform": function(value) {
                return !(value === null || typeof value === "undefined");
            }
        },
        /**
         * The lazy threshold.
         * This is the number of pixels, in advance of becoming visible, when an lazy-loading image should begin
         * to load.
         *
         * @memberof Image
         * @type {Number}
         * @default 0
         */
        "lazythreshold": {
            "default": 0,
            "transform": function(value) {
                var val =  parseInt(value);
                if (isNaN(val)) {
                    return LAZY_THRESHOLD_DEFAULT;
                }
                return val;
            }
        },
        /**
         * The image source.
         *
         * Can be a simple image source, or a URI template representation that
         * can be variable expanded - useful for building an image configuration with an alternative width.
         * e.g. '/path/image.coreimg{.width}.jpeg/1506620954214.jpeg'
         *
         * @memberof Image
         * @type {String}
         */
        "src": {
            "transform": function(value) {
                return decodeURIComponent(value);
            }
        }
    };

    var devicePixelRatio = window.devicePixelRatio || 1;

    function Image(config) {
        var that = this;

        var smartCrops = {};

        var useAssetDelivery = false;
        var srcUriTemplateWidthVar = SRC_URI_TEMPLATE_WIDTH_VAR;

        function init(config) {
            // prevents multiple initialization
            config.element.removeAttribute("data-" + NS + "-is");

            // check if asset delivery is used
            if (config.options.src && config.options.src.indexOf(SRC_URI_TEMPLATE_WIDTH_VAR_ASSET_DELIVERY) >= 0) {
                useAssetDelivery = true;
                srcUriTemplateWidthVar = SRC_URI_TEMPLATE_WIDTH_VAR_ASSET_DELIVERY;
            }

            that._properties = CMP.utils.setupProperties(config.options, properties);
            cacheElements(config.element);
            // check image is DM asset; if true try to make req=set
            if (config.options.src && Object.prototype.hasOwnProperty.call(config.options, "dmimage") && (config.options["smartcroprendition"] === "SmartCrop:Auto")) {
                smartCrops = CMP.image.dynamicMedia.getAutoSmartCrops(config.options.src);
            }

            if (!that._elements.noscript) {
                return;
            }

            that._elements.container = that._elements.link ? that._elements.link : that._elements.self;

            unwrapNoScript();

            if (that._properties.lazy) {
                addLazyLoader();
            }

            if (that._elements.map) {
                that._elements.image.addEventListener("load", onLoad);
            }

            window.addEventListener("resize", onWindowResize);
            ["focus", "click", "load", "transitionend", "animationend", "scroll"].forEach(function(name) {
                document.addEventListener(name, that.update);
            });

            that._elements.image.addEventListener("cmp-image-redraw", that.update);

            that._interSectionObserver = new IntersectionObserver(function(entries, interSectionObserver) {
                entries.forEach(function(entry) {
                    if (entry.intersectionRatio > 0) {
                        that.update();
                    }
                });
            });
            that._interSectionObserver.observe(that._elements.self);

            that.update();
        }

        function loadImage() {
            var hasWidths = (that._properties.widths && that._properties.widths.length > 0) || Object.keys(smartCrops).length > 0;
            var replacement;
            if (Object.keys(smartCrops).length > 0) {
                var optimalWidth = getOptimalWidth(Object.keys(smartCrops), false);
                replacement = smartCrops[optimalWidth];
            } else {
                replacement = hasWidths ? (that._properties.dmimage ? "" : ".") + getOptimalWidth(that._properties.widths, true) : "";
            }
            if (useAssetDelivery) {
                replacement = replacement !== "" ? ("width=" + replacement.substring(1)) : "";
            }
            var url = that._properties.src.replace(srcUriTemplateWidthVar, replacement);
            url = url.replace(SRC_URI_TEMPLATE_DPR_VAR, devicePixelRatio);

            var imgSrcAttribute = that._elements.image.getAttribute("src");

            if (url !== imgSrcAttribute) {
                if (imgSrcAttribute === null || imgSrcAttribute === EMPTY_PIXEL) {
                    that._elements.image.setAttribute("src", url);
                } else {
                    var urlTemplateParts = that._properties.src.split(srcUriTemplateWidthVar);
                    // check if image src was dynamically swapped meanwhile (e.g. by Target)
                    var isImageRefSame = imgSrcAttribute.startsWith(urlTemplateParts[0]);
                    if (isImageRefSame && urlTemplateParts.length > 1) {
                        isImageRefSame = imgSrcAttribute.endsWith(urlTemplateParts[urlTemplateParts.length - 1]);
                    }
                    if (isImageRefSame) {
                        that._elements.image.setAttribute("src", url);
                        if (!hasWidths) {
                            window.removeEventListener("scroll", that.update);
                        }
                    }
                }
            }
            if (that._lazyLoaderShowing) {
                that._elements.image.addEventListener("load", removeLazyLoader);
            }
            that._interSectionObserver.unobserve(that._elements.self);
        }

        function getOptimalWidth(widths, useDevicePixelRatio) {
            var container = that._elements.self;
            var containerWidth = container.clientWidth;
            while (containerWidth === 0 && container.parentNode) {
                container = container.parentNode;
                containerWidth = container.clientWidth;
            }

            var dpr = useDevicePixelRatio ? devicePixelRatio : 1;
            var optimalWidth = containerWidth * dpr;
            var len = widths.length;
            var key = 0;

            while ((key < len - 1) && (widths[key] < optimalWidth)) {
                key++;
            }

            return widths[key].toString();
        }

        function addLazyLoader() {
            var width = that._elements.image.getAttribute("width");
            var height = that._elements.image.getAttribute("height");

            if (width && height) {
                var ratio = (height / width) * 100;
                var styles = lazyLoader.style;

                styles["padding-bottom"] = ratio + "%";

                for (var s in styles) {
                    if (Object.prototype.hasOwnProperty.call(styles, s)) {
                        that._elements.image.style[s] = styles[s];
                    }
                }
            }
            that._elements.image.setAttribute("src", EMPTY_PIXEL);
            that._elements.image.classList.add(lazyLoader.cssClass);
            that._lazyLoaderShowing = true;
        }

        function unwrapNoScript() {
            var markup = decodeNoscript(that._elements.noscript.textContent.trim());
            var parser = new DOMParser();

            // temporary document avoids requesting the image before removing its src
            var temporaryDocument = parser.parseFromString(markup, "text/html");
            var imageElement = temporaryDocument.querySelector(selectors.image);
            imageElement.removeAttribute("src");
            that._elements.container.insertBefore(imageElement, that._elements.noscript);

            var mapElement = temporaryDocument.querySelector(selectors.map);
            if (mapElement) {
                that._elements.container.insertBefore(mapElement, that._elements.noscript);
            }

            that._elements.noscript.parentNode.removeChild(that._elements.noscript);
            if (that._elements.container.matches(selectors.image)) {
                that._elements.image = that._elements.container;
            } else {
                that._elements.image = that._elements.container.querySelector(selectors.image);
            }

            that._elements.map = that._elements.container.querySelector(selectors.map);
            that._elements.areas = that._elements.container.querySelectorAll(selectors.area);
        }

        function removeLazyLoader() {
            that._elements.image.classList.remove(lazyLoader.cssClass);
            for (var property in lazyLoader.style) {
                if (Object.prototype.hasOwnProperty.call(lazyLoader.style, property)) {
                    that._elements.image.style[property] = "";
                }
            }
            that._elements.image.removeEventListener("load", removeLazyLoader);
            that._lazyLoaderShowing = false;
        }

        function isLazyVisible() {
            if (that._elements.container.offsetParent === null) {
                return false;
            }

            var wt = window.pageYOffset;
            var wb = wt + document.documentElement.clientHeight;
            var et = that._elements.container.getBoundingClientRect().top + wt;
            var eb = et + that._elements.container.clientHeight;

            return eb >= wt - that._properties.lazythreshold && et <= wb + that._properties.lazythreshold;
        }

        function resizeAreas() {
            if (that._elements.areas && that._elements.areas.length > 0) {
                for (var i = 0; i < that._elements.areas.length; i++) {
                    var width = that._elements.image.width;
                    var height = that._elements.image.height;

                    if (width && height) {
                        var relcoords = that._elements.areas[i].dataset.cmpRelcoords;
                        if (relcoords) {
                            var relativeCoordinates = relcoords.split(",");
                            var coordinates = new Array(relativeCoordinates.length);

                            for (var j = 0; j < coordinates.length; j++) {
                                if (j % 2 === 0) {
                                    coordinates[j] = parseInt(relativeCoordinates[j] * width);
                                } else {
                                    coordinates[j] = parseInt(relativeCoordinates[j] * height);
                                }
                            }

                            that._elements.areas[i].coords = coordinates;
                        }
                    }
                }
            }
        }

        function cacheElements(wrapper) {
            that._elements = {};
            that._elements.self = wrapper;
            var hooks = that._elements.self.querySelectorAll("[data-" + NS + "-hook-" + IS + "]");

            for (var i = 0; i < hooks.length; i++) {
                var hook = hooks[i];
                var capitalized = IS;
                capitalized = capitalized.charAt(0).toUpperCase() + capitalized.slice(1);
                var key = hook.dataset[NS + "Hook" + capitalized];
                that._elements[key] = hook;
            }
        }

        function onWindowResize() {
            that.update();
            resizeAreas();
        }

        function onLoad() {
            resizeAreas();
        }

        that.update = function() {
            if (that._properties.lazy) {
                if (isLazyVisible()) {
                    loadImage();
                }
            } else {
                loadImage();
            }
        };

        if (config && config.element) {
            init(config);
        }
    }

    function onDocumentReady() {
        var elements = document.querySelectorAll(selectors.self);
        for (var i = 0; i < elements.length; i++) {
            new Image({ element: elements[i], options: CMP.utils.readData(elements[i], IS) });
        }

        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;
        var body             = document.querySelector("body");
        var observer         = new MutationObserver(function(mutations) {
            mutations.forEach(function(mutation) {
                // needed for IE
                var nodesArray = [].slice.call(mutation.addedNodes);
                if (nodesArray.length > 0) {
                    nodesArray.forEach(function(addedNode) {
                        if (addedNode.querySelectorAll) {
                            var elementsArray = [].slice.call(addedNode.querySelectorAll(selectors.self));
                            elementsArray.forEach(function(element) {
                                new Image({ element: element, options: CMP.utils.readData(element, IS) });
                            });
                        }
                    });
                }
            });
        });

        observer.observe(body, {
            subtree: true,
            childList: true,
            characterData: true
        });
    }

    var documentReady = document.readyState !== "loading" ? Promise.resolve() : new Promise(function(resolve) {
        document.addEventListener("DOMContentLoaded", resolve);
    });

    Promise.all([documentReady]).then(onDocumentReady);
    /*
        on drag & drop of the component into a parsys, noscript's content will be escaped multiple times by the editor which creates
        the DOM for editing; the HTML parser cannot be used here due to the multiple escaping
     */
    function decodeNoscript(text) {
        text = text.replace(/&(amp;)*lt;/g, "<");
        text = text.replace(/&(amp;)*gt;/g, ">");
        return text;
    }

})();


/*! For license information please see basePage.js.LICENSE.txt */
(()=>{var e,t={244:(e,t,s)=>{"use strict";s.d(t,{r:()=>a});const n="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";function a(e="#exit-site-modal",t=`${e} .cmp-dialog__footer ul li a`,s=`${e} .cmp-dialog__header button`){function a(s){const n=s.getAttribute("data-href"),a=s.getAttribute("data-title"),o=s.getAttribute("title"),i=s.textContent,r=document.querySelector(t),l=s.closest(".image-ribbon-v2");r?.setAttribute("href",n);const c=r?.querySelector(".sr-only");c?.remove(),r?.insertAdjacentHTML("beforeend",`<span class="sr-only"> to ${i}</span>`);const d=document.querySelector(`${e} .cmp-dialog__subheader`);d?.insertAdjacentHTML("beforeend",'<p class="cmp-dialog__subheader_action-callout-sm"></p>');const u=document.querySelector(`${e} .cmp-dialog__subheader_action-callout-sm`);null!=u&&(u.textContent=`${l?function(e){try{const t=e.startsWith("http")?e:"http://"+e,s=new URL(t).hostname.split(".");return s.length>=2?s.slice(-2,-1)[0]:s}catch(e){return""}}(n):a||o||i||n} [Opens in a new window]`)}function o(e,t){let s=t?e.getAttribute("onclick"):e.href;if(null==s)return;s=s.split("?")[0],s.includes("location.href")&&(s=s.split("=")[1],s=s.replace(/['"]/g,""));const n=new URL(s).hostname;if(!function(e,t){if(null!=e.closest(".cmp-dialog"))return!0;const s=document.getElementById("excludesList")?.dataset.excludes;if(s){let e=s.split(",");for(const s of e)if(t.includes(s))return!0}}(e,n)){if(t)return e.removeAttribute("onclick"),void e.classList.add("addressClick");if(!s.includes(location.hostname)){e.addEventListener("click",(()=>(a(e),!1)));const t=e.getAttribute("href");if(null==t)return;e.setAttribute("data-href",t),e.setAttribute("href","#offSite"),e.setAttribute("data-modal","true"),e.classList.add("addressClick")}}}function i(a){a?.forEach((e=>{const t=e.getAttribute("onclick");t?.includes("location.href='http")?o(e,!0):o(e,!1)}));document.querySelectorAll("a[data-modal*=true").forEach((a=>{"#offSite"==a.getAttribute("href")&&a.addEventListener("click",(function(a){a.preventDefault();!function(a){const o=document.querySelector(`${e}`);o?.showModal(),o?.addEventListener("keydown",(function(e){!function(e,t,s=n){if("Tab"===t.code){const n=e.querySelectorAll("*");let a=Array.from(n).filter((e=>e.matches(s)));const o=document.querySelector(":focus")||document.activeElement,i=a.length;if(null==o)return;const r=a.indexOf(o);t.shiftKey?0===r&&(a[i-1]?.focus(),t.preventDefault()):r===i-1&&(a[0]?.focus(),t.preventDefault())}}(o,e)}));const i=document.querySelector(t);setTimeout((()=>{i?.focus()}),0),i?.addEventListener("click",(()=>{!function(e){e?.close()}(o),r(a)}));const l=document.querySelector(s);l?.addEventListener("click",(()=>{r(a)})),o?.addEventListener("keydown",(function(e){"Escape"===e.key&&r(a)}))}(document.activeElement)}))}))}function r(e){e.focus(),e?.scrollIntoView({block:"center"})}const l=document.querySelectorAll('a[href^=http]:not(.noBump), [onclick*="http"]');i(l),window.addEventListener("nfcu:links-added",(e=>{const t=e.detail;i(t?.links??l)}))}},166:(e,t,s)=>{"use strict";s.d(t,{Y:()=>a,r:()=>o});var n=s(780);class a{selectors={auxSigninElement:document.querySelectorAll(".global-nav__signin-element"),auxSignoutElement:document.querySelectorAll(".global-nav__signout-element"),toolbarSignin:document.querySelector(".toolbar__section-content_signin"),toolbarSignout:document.querySelector(".toolbar__section-content_signout"),toolbarButtonSignin:document.querySelector(".toolbar__button_signin"),toolbarButtonSignout:document.querySelector(".toolbar__button_signout"),signIn:document.querySelector(".signin__section-content"),signOut:document.querySelector(".signin__section-content_signout"),signInMemberBar:document.querySelector(".signin__member-bar"),hasGlobalNav:document.querySelector(".global-nav"),hasHomepageToolbar:document.querySelector(".toolbar__signin-container"),hasHomepageSignIn:document.querySelector(".signin__container"),hasHomepageHero:document.querySelector(".homepage-hero__outer-wrapper"),hidenavenabled:document.querySelector("header#header")?.getAttribute("data-hidenav")};cookiesToRemove=["SMSESSION","navyfed-opentoken","failedcount","navyfed-useractive","navyfed-extracted","navyfed-deviceprint","navyfed-pingolb","navyfed-obo","my_dc","acctsvcs_dc"];getBrowserCookieNames(){return document.cookie.split(";").map((e=>e.split("=")[0].trim()))}getMatchingCookies(e){return e.filter((e=>this.cookiesToRemove.includes(e)))}removeCookies(e){this.getMatchingCookies(e).forEach((e=>{document.cookie=`${e}=; domain=.navyfederal.org; path=/; expires=Thu, 01-Jan-1970 00:00:00 GMT; secure;`}))}getCookie(e){let t;const s=document.cookie.split(`; ${e}=`);if(2===s.length)return t=s.pop()?.split(";").shift(),t}updateClassBasedOffMobCookie(e,t,s){const n=this.getCookie(t);if(void 0!==n){const t=document.querySelector(e);t?.classList.add(s)}if(void 0===n){const t=document.querySelector(e);t?.classList.remove(s)}}applyLoggedInExperience(e){let t;e?(this.selectors.hasGlobalNav&&(this.selectors.auxSigninElement.forEach((e=>{e.style.display="none"})),this.selectors.auxSignoutElement.forEach((e=>{e.style.display="block"}))),this.selectors.hasHomepageToolbar&&(this.selectors.toolbarSignin.style.display="none",this.selectors.toolbarSignout.style.display="block",this.selectors.toolbarButtonSignin.style.display="none",this.selectors.toolbarButtonSignout.style.display="block",this.selectors.signIn.style.display="none",this.selectors.signOut.style.display="block"),this.selectors.hasHomepageSignIn&&(this.selectors.signIn.style.display="none",this.selectors.signOut.style.display="block"),this.selectors.signInMemberBar&&(this.selectors.signInMemberBar.style.display="none")):(this.selectors.auxSigninElement.forEach((e=>{e.style.display="block"})),this.selectors.auxSignoutElement.forEach((e=>{e.style.display="none"})),t=this.getBrowserCookieNames(),this.removeCookies(t))}getUserLogInStatus(){let e;const t=this.getCookie("SMSESSION"),s=this.getCookie("failedcount");return e=void 0!==t&&"0"===s,e}init(){if(this.selectors.hasGlobalNav||this.selectors.hasHomepageToolbar||this.selectors.hasHomepageSignIn){let e=this.getUserLogInStatus();this.applyLoggedInExperience(e)}this.selectors.hidenavenabled&&(this.updateClassBasedOffMobCookie("#header","mob_platform","global-nav__hide-nav-element"),this.updateClassBasedOffMobCookie(".page-header","mob_platform","page-header__adjust-for-mobile"))}}const o={dom:{$globalNav:$(".global-nav"),$html:$("html"),$mainContent:$("#main-content"),$searchAndNavContainer:$(".global-nav__search-and-nav-container"),$signInBtn:$(".global-nav__signin-btn"),$sidebarTogglerCheckbox:$("#sidebartoggler"),globalNavSearchWrapper:document.querySelector(".search-bar_global-nav"),globalNav:"global-nav",hideNavElement:"global-nav__hide-nav-element",helpCenterContainer:document.querySelector(".search-bar__extra-links-container"),globalNavEl:document.getElementsByClassName("global-nav")[0],mainEl:document.getElementById("main-content"),mobileLogoLink:"global-nav__logo-link_mobile",navLinks:"global-nav__link",searchBarLink:document.getElementsByClassName("search-bar__link")[0],searchAndNavContainer:"global-nav__search-and-nav-container",searchHeader:document.querySelector(".search-bar_global-nav .search-bar__container"),searchInput:document.getElementById("q"),searchSubmitBtn:document.querySelector(".search-bar_global-nav .search-bar__search-btn"),signInBtn:"global-nav__signin-btn",tier1Links:document.querySelectorAll(".global-nav__link_tier-1"),tier1DetailElements:"global-nav__links-container_tier-1",tier1Summaries:document.querySelectorAll(".global-nav__links-group-toggler_tier-1"),tier1Details:document.querySelectorAll(".global-nav__links-container_tier-1"),tier1DetailActive:".activeDetail1",tier1UnorderedList:"global-nav__nav-tier-1-unordered-list",tier2DetailActive:".activeDetail2",tier2DetailElements:"global-nav__links-container_tier-2",tier2SummaryElements:"global-nav__links-group-toggler_tier-2",tier2UnorderedListContainer:"global-nav__nav-tier-2-unordered-list-container",tier3UnorderedListInnerContainer:".global-nav__nav-tier-3-unordered-list-inner-container",tier3UnorderedListContainer:"global-nav__nav-tier-3-unordered-list-item",tier3UnorderedListContainerPaddingTop:"global-nav__tier-3-top-column-padding",tier3Link:"global-nav__link_tier-3",tier4Link:"global-nav__link_tier-4",featuredContent:"global-nav__featured-content-link",arrowKeysTrapFocusEventHandlerAdded:!1,inMobile:!0,menuBtnClickHandlerAdded:!1,labelBtnHTML:'<label for="sidebartoggler" class="global-nav__mobile-btn global-nav__mobile-btn_label" tabindex="0">\n\t\t\t\t\t\t\t<i class="fa fa-bars" aria-hidden="true"></i>\n\t\t\t\t\t\t</label>',menuBtnHTML:'<button for="sidebartoggler" aria-label="Expand the Main Menu" class="global-nav__mobile-btn global-nav__mobile-btn_button" aria-expanded="false"><i class="fa fa-bars global-nav__mobile-hamburger-icon" aria-hidden="true"></i></button>',classExtraLinksFadeStyles:"search-bar__extra-links-container_fade-styles",classExtraLinksBlock:"search-bar__extra-links-container_display_block",classGlobalNavExpanded:"global-nav__expanded",classNavOpen:"nav-open",classTier1Link:"global-nav__link_tier-1",classToggleAsLabel:"global-nav__mobile-btn_label",searchToggle:document.querySelector(".search-toggle")},replaceMenuLabelWithButton(){const e=document.getElementsByClassName(this.dom.classToggleAsLabel);e.length&&(e[0].outerHTML=this.dom.menuBtnHTML)},toggleSidebarCheckbox(){this.dom.$sidebarTogglerCheckbox.prop("checked",!this.dom.$sidebarTogglerCheckbox.prop("checked"))},addExpandedMenuProps(){$(".global-nav__mobile-btn").attr("aria-expanded","true").attr("aria-label","Collapse the Main Menu"),this.dom.$searchAndNavContainer.attr("aria-hidden","false"),this.dom.$html.addClass(this.dom.classNavOpen);document.getElementsByClassName(this.dom.globalNav)[0].classList.add(this.dom.classGlobalNavExpanded)},removeExpandedMenuProps(){$(".global-nav__mobile-btn").attr("aria-expanded","false").attr("aria-label","Expand the Main Menu"),this.dom.$searchAndNavContainer.attr("aria-hidden","true"),this.dom.$html.removeClass(this.dom.classNavOpen);document.getElementsByClassName(this.dom.globalNav)[0].classList.remove(this.dom.classGlobalNavExpanded)},removeAriaHiddenFromSearchAndNav(){document.getElementsByClassName(this.dom.searchAndNavContainer)[0].removeAttribute("aria-hidden")},closeNav(){const e=document.getElementById("sidebartoggler");if(e?.checked&&this.dom.inMobile){let e=$(".global-nav__mobile-btn");this.uncheckSidebarCheckbox(),this.removeExpandedMenuProps(),this.closeAllSubmenus(),e.focus();n.p.searchOverlayEnabled&&n.p.removeOverlays()}},escapeKeyClosesNav(){this.dom.$globalNav.on("keydown",(e=>{if("Escape"===e.code&&this.closeNav(),"Escape"===e.code&&!this.dom.inMobile){const e=document.getElementsByClassName(this.dom.tier2DetailElements);for(const t of e)t.removeAttribute("open")}}))},trapFocusInElement(e){const t=e.find("select, input, textarea, button, a").filter(":visible"),s=$(".global-nav__mobile-btn"),n=t.last();n.on("keydown",(function(e){"Tab"!==e.code||e.shiftKey||(e.preventDefault(),s.focus())})),s.on("keydown",(function(e){"Tab"===e.code&&e.shiftKey&&(e.preventDefault(),n.focus())}))},uncheckSidebarCheckbox(){this.dom.$sidebarTogglerCheckbox.prop("checked",!1)},skipToMainContent(e){this.dom.$mainContent.focus()},skipToSignInBtn(e){e.preventDefault(),this.dom.$signInBtn.focus()},closeDetailElementsNotClicked(e,t){for(const s of e)s!==t&&s.removeAttribute("open")},closeAllTier2DetailElements(){const e=document.getElementsByClassName(this.dom.tier2DetailElements);for(const t of e)t.removeAttribute("open")},revealActiveElement(e){const t=e;if(!document.getElementsByClassName(this.dom.globalNav)[0].classList.contains(this.dom.classGlobalNavExpanded))return;if("Tab"!==t.key)return;const s=window.innerHeight,n=document.activeElement?.getBoundingClientRect().bottom;if(n&&n>s){const e=n-s;document.getElementsByClassName("global-nav__search-and-nav-container")[0].scrollBy(0,e+10)}},openNavToActivePage(){const e=document.querySelector(this.dom.tier1DetailActive),t=document.querySelector(this.dom.tier2DetailActive);e&&(e?.hasAttribute("open")||e?.setAttribute("open","")),t&&(t?.hasAttribute("open")||t?.setAttribute("open",""))},closeAllSubmenus(){const e=document.getElementsByTagName("details");for(const t of e)t.open&&t.removeAttribute("open")},closeAllInactiveTier1Menus(){this.dom.tier1Details.forEach((e=>{e?.classList.contains("activeDetail1")?e.setAttribute("open",""):e.removeAttribute("open")}))},addAriaCurrentFalseAttrs(){const e=document.getElementsByClassName(this.dom.navLinks);for(const t of e)t.hasAttribute("aria-current")||t.setAttribute("aria-current","false")},removeFromTabbingOrder(e){document.getElementsByClassName(e)[0].setAttribute("tabindex","-1")},addBackToTabbingOrder(e){document.getElementsByClassName(e)[0].removeAttribute("tabindex")},addListenerToSearchField(){this.dom.searchInput.addEventListener("keyup",(e=>{("Tab"===e.code||e.shiftKey&&this.dom.inMobile)&&(this.addBackToTabbingOrder(this.dom.mobileLogoLink),this.addBackToTabbingOrder(this.dom.signInBtn))}))},respondToCheckbox(){this.dom.$sidebarTogglerCheckbox.prop("checked")?(this.addExpandedMenuProps(),this.trapFocusInElement(this.dom.$globalNav),this.openNavToActivePage(),this.removeFromTabbingOrder(this.dom.mobileLogoLink),this.removeFromTabbingOrder(this.dom.signInBtn),this.addListenerToSearchField()):(this.removeExpandedMenuProps(),this.closeAllSubmenus())},addEventListeners(){this.dom.$signInBtn.on("keydown",(e=>{const t=document.getElementById("sidebartoggler");"Tab"!==e.code||t?.checked||e.shiftKey||this.skipToMainContent(e)}));const e={$tabbable:$("#main-content").find("select, input, textarea, button, a").filter(":visible")}.$tabbable[0];$(e).on("keydown",(e=>{const t=$(".nav-open"),s=$(window).width()<780;"Tab"===e.key&&e.shiftKey&&!t.length&&s&&this.skipToSignInBtn(e)}));document.getElementsByClassName(this.dom.globalNav)[0].addEventListener("keyup",(e=>{this.revealActiveElement(e)}))},setMenuBtnClickHandler(){$(".global-nav__mobile-btn").on("click",(()=>{this.toggleSidebarCheckbox(),this.respondToCheckbox()})),this.dom.menuBtnClickHandlerAdded=!0},addToggleEventHandlerToDetailsTier2(){const e=document.getElementsByClassName(this.dom.tier2DetailElements);for(const t of e)t.addEventListener("toggle",(s=>{s.preventDefault(),t?.open&&(this.dom.inMobile||t.getAttribute("data-padding-top-fix")&&"false"!==t.getAttribute("data-padding-top-fix")||this.addPaddingTopTier3TopColumn(t),this.closeDetailElementsNotClicked(e,s.target))}))},addToggleEventHandlerToDetailsTier1(){const e=document.getElementsByClassName(this.dom.tier1DetailElements);for(const t of e)t.addEventListener("toggle",(s=>{s.preventDefault(),this.tabOnlyToVisibleLinks(),t?.open&&(this.closeDetailElementsNotClicked(e,s.target),this.closeAllTier2DetailElements())}))},addMouseoverEventHandlerToDetailsTier2(){const e=document.getElementsByClassName(this.dom.tier2SummaryElements);for(const t of e){const e=t;t.addEventListener("mouseover",(t=>{const s=e.parentNode;this.dom.inMobile||s?.open||s?.setAttribute("open","")}))}},addMouseoutEventHandlerToDetailsTier2(){const e=document.getElementsByClassName(this.dom.tier2UnorderedListContainer),t=document.getElementsByClassName(this.dom.tier2DetailElements);for(const s of e){s.addEventListener("mouseleave",(e=>{if(!this.dom.inMobile)for(const e of t)e?.open&&e?.removeAttribute("open")}))}},closeTier2DetailsOnFocusOut(){this.dom.globalNavEl?.addEventListener("keyup",(e=>{const t=e.target,s=!("Enter"!==e.key&&"Space"!==e.key||!t?.classList.contains("global-nav__mobile-btn")),n=t?.parentNode,a=null!==n?.getAttribute("open"),o=t?.classList.contains(this.dom.tier2SummaryElements),i=t?.classList.contains(this.dom.tier3Link),r=t?.classList.contains(this.dom.tier4Link),l=t?.classList.contains(this.dom.featuredContent);i||r||l||s||o&&a||this.dom.inMobile||this.closeAllTier2DetailElements()}))},arrowKeysTrapFocus(e){let t;const s=e;"ArrowRight"===s.code||"ArrowDown"===s.code?(s.stopPropagation(),s.preventDefault(),t=document.activeElement?.parentElement?.parentElement?.nextElementSibling?.firstElementChild?.firstElementChild,s.target?.classList.contains(this.dom.classTier1Link)&&!this.dom.inMobile&&(t=document.activeElement?.parentElement?.parentElement?.parentElement?.nextElementSibling?.firstElementChild?.firstElementChild?.firstElementChild)):"ArrowLeft"!==s.code&&"ArrowUp"!==s.code||(s.stopPropagation(),s.preventDefault(),t=document.activeElement?.parentElement?.parentElement?.previousElementSibling?.firstElementChild?.firstElementChild,s.target?.classList.contains(this.dom.classTier1Link)&&!this.dom.inMobile&&(t=document.activeElement?.parentElement?.parentElement?.parentElement?.previousElementSibling?.firstElementChild?.firstElementChild?.firstElementChild)),t?.focus()},addArrowKeysEventHandler(){document.getElementsByClassName(this.dom.tier1UnorderedList)[0].addEventListener("keydown",(e=>{this.arrowKeysTrapFocus(e)})),this.dom.arrowKeysTrapFocusEventHandlerAdded=!0},setTier1KeyboardNavDesktop(){this.dom.tier1Links.forEach((e=>{e.removeAttribute("disabled"),e.removeAttribute("tabindex"),e.removeAttribute("aria-hidden")})),this.dom.tier1Summaries.forEach((e=>{e.setAttribute("tabindex","-1")}))},setTier1KeyboardNavMobile(){this.dom.tier1Links.forEach((e=>{e.setAttribute("disabled","true"),e.setAttribute("tabindex","-1"),e.setAttribute("aria-hidden","true")})),this.dom.tier1Summaries.forEach((e=>{e.removeAttribute("tabindex")}))},tabOnlyToVisibleLinks(){const e=document.getElementsByClassName(this.dom.tier1DetailElements);for(const t of e){const e=t.hasAttribute("open"),s=t.querySelectorAll("ul")[0].querySelectorAll(`.${this.dom.tier2SummaryElements}`);e?s.forEach((e=>{e.removeAttribute("hidden")})):s.forEach((e=>{e.setAttribute("hidden","true")}))}},unhideSearchBarInMobile(){const e=document.querySelector(".search-bar_global-nav");this.dom.searchToggle.classList.contains("search-toggle_open")&&(this.dom.searchToggle.setAttribute("aria-label","Expand Search Field"),this.dom.searchToggle.innerHTML='<i class="fa fa-search" aria-hidden="true"></i>',this.dom.searchToggle.classList.remove("search-toggle_open")),e?.removeAttribute("style")},clickSearchClose(){this.dom.searchToggle?.click()},closeNavSearch(){const e=this.dom.searchInput,t=this.dom.searchBarLink,s=this.dom.searchSubmitBtn;this.dom.globalNavSearchWrapper?.addEventListener("keydown",(n=>{const a="Tab"===n.code&&!n.shiftKey,o="Tab"===n.code&&n.shiftKey;this.dom.inMobile||(a&&(n.target===t||n.target===s&&void 0===t)&&(this.clickSearchClose(),this.dom.mainEl?.focus()),n.target===e&&o&&(n.preventDefault(),this.dom.searchToggle?.focus()))}))},sendFocusToSearchInput(){let e=this.dom.searchToggle;e.addEventListener("keydown",(t=>{"Tab"===t.code&&!t.shiftKey&&e.classList.contains("search-toggle_open")&&(t.preventDefault(),this.dom.searchInput?.focus())}))},removeHelpCenterLink(){this.dom.helpCenterContainer&&(this.dom.helpCenterContainer?.classList.remove(this.dom.classExtraLinksFadeStyles),this.dom.helpCenterContainer?.classList.remove(this.dom.classExtraLinksBlock))},addHelpCenterEventListeners(){const e=document.getElementsByClassName(this.dom.globalNav)[0];e.addEventListener("keyup",(e=>{if(!this.dom.inMobile)return;const t=e.target;this.dom.searchHeader?.contains(t)||this.removeHelpCenterLink()})),e.addEventListener("click",(e=>{if(!this.dom.inMobile)return;const t=e.target;this.dom.searchHeader?.contains(t)||this.removeHelpCenterLink()}))},addPaddingTopTier3TopColumn(e){const t=document.querySelector(`${this.dom.tier3UnorderedListInnerContainer}`)?.getBoundingClientRect().top;if(e.hasAttribute("open")){const s=Array.from(e.getElementsByClassName(`${this.dom.tier3UnorderedListContainer}`));if(void 0!==t){const n=s[0].getBoundingClientRect().top,a=Math.abs(n-t);s.map((e=>{Math.abs(e.getBoundingClientRect().top-t)===a&&e.classList.add(`${this.dom.tier3UnorderedListContainerPaddingTop}`)})),e.setAttribute("data-padding-top-fix","true")}}},removeClassIfCookieNotPresent(e,t,s){if(void 0===(new a).getCookie(s)){const s=document.getElementById(e);s?.classList.remove(t)}},setSearchButtonAriaFalse(){const e=document.querySelector(".search-toggle"),t=e?.getAttribute("aria-expanded");t&&e?.setAttribute("aria-expanded","false")},mobileAndDesktopMethods(){this.addToggleEventHandlerToDetailsTier1(),this.addToggleEventHandlerToDetailsTier2(),this.addMouseoverEventHandlerToDetailsTier2(),this.addMouseoutEventHandlerToDetailsTier2(),this.escapeKeyClosesNav(),this.dom.arrowKeysTrapFocusEventHandlerAdded||this.addArrowKeysEventHandler(),this.tabOnlyToVisibleLinks(),this.closeNavSearch(),this.closeTier2DetailsOnFocusOut(),this.addHelpCenterEventListeners()},init(){const e=document.querySelectorAll(".global-nav");let t=window.innerWidth;e.length&&(document.addEventListener("DOMContentLoaded",(e=>{t=window.innerWidth;t<780?(this.dom.inMobile=!0,this.replaceMenuLabelWithButton(),this.addAriaCurrentFalseAttrs(),this.addEventListeners(),this.dom.menuBtnClickHandlerAdded||this.setMenuBtnClickHandler(),this.closeNav(),this.setTier1KeyboardNavMobile(),this.removeClassIfCookieNotPresent("header",this.dom.hideNavElement,"mob_platform")):(this.dom.inMobile=!1,this.setTier1KeyboardNavDesktop(),this.sendFocusToSearchInput()),this.mobileAndDesktopMethods()})),window.addEventListener("resize",(()=>{t=window.innerWidth;t<780?(this.dom.inMobile=!0,this.replaceMenuLabelWithButton(),this.addEventListeners(),this.unhideSearchBarInMobile(),this.dom.menuBtnClickHandlerAdded||this.setMenuBtnClickHandler(),this.setTier1KeyboardNavMobile(),this.setSearchButtonAriaFalse()):(this.dom.inMobile=!1,this.setTier1KeyboardNavDesktop(),this.sendFocusToSearchInput(),this.closeAllInactiveTier1Menus(),this.closeAllTier2DetailElements(),this.removeAriaHiddenFromSearchAndNav())})),window.onbeforeunload=()=>{this.dom.inMobile&&this.closeNav()})}};s(927)},927:()=>{document.querySelector(".global-nav")&&window.lazySizes&&(window.lazySizes.cfg.loadHidden=!1)},739:(e,t,s)=>{"use strict";s.d(t,{_:()=>n});class n{name="image";init(){function e(){let e,t;$(".object-fit-container").each((function(){e=$(this),t=e.find("img").prop("src"),t&&e.css("backgroundImage","url("+t+")").addClass("compat-object-fit")}))}window.Modernizr.objectfit||(e(),$(".lazyload").on("load",(function(){e()})))}}},285:(e,t,s)=>{"use strict";function n(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}s.d(t,{O:()=>d});var a=s(975);function o(e,t){let s;return function(){const n=this,a=arguments;clearTimeout(s),s=setTimeout((()=>e.apply(n,a)),t)}}var i=s(780);function r(e){if(!e)return null;const t=e.getBoundingClientRect(),s=window.scrollX,n=window.scrollY;return new DOMRect(t.left+s,t.top+n,t.width,t.height)}const l={searchOverlayIsEnabled:!1,isSearchResultsPage:!1,selectors:{globalNavSearchContainer:document.querySelector(".search-bar_global-nav"),pageSearchContainer:document.querySelector(".search-bar_page-component"),searchSuggestionItemsSelector:".search-bar__suggestions-item",searchInputSelector:".search-bar__search-input",searchElement:document.querySelector(".search-bar .search-bar__search"),globalNavInput:document.getElementById("q"),searchInputField:document.getElementsByClassName("search-bar__search-input"),searchResultsInput:document.getElementById("search-page-input"),suggestionsList:document.getElementsByClassName("search-bar__suggestions-list"),globalNavSubmitBtn:document.querySelector(".search-bar_global-nav .search-bar__search-btn"),searchSubmitButton:document.querySelector(".search-bar_page-component .search-bar__search-btn"),classSelectionsListActive:"search-bar__suggestions-list_active",idGlobalNavInputID:"q",idSearchResultsInputID:"search-page-input",idGlobalNavSuggestionsList:"global-nav-search-suggestions-list",idSearchResultsSuggestionsList:"page-component-search-suggestions-list",debounceRate:300,originalSearchQuery:""},addEventListeners(){const e=this.selectors.globalNavSearchContainer?.querySelector(this.selectors.searchInputSelector),t=this.selectors.pageSearchContainer?.querySelector(this.selectors.searchInputSelector);[e,t].forEach(((e,t)=>{e?.addEventListener("input",o((()=>{this.buildSuggestionsList(t)}),this.selectors.debounceRate))}));const s=this.selectors.suggestionsList[0],n=this.selectors.suggestionsList[1];e?.addEventListener("keydown",(e=>{this.handleInputFieldKeys(e),this.updateInputValue(e,s)})),t?.addEventListener("keydown",(e=>{this.handleInputFieldKeys(e),this.updateInputValue(e,n)})),s.addEventListener("keydown",(e=>{const t=e;t.preventDefault(),this.handleSuggestionsListKeys(t,s),this.updateInputValue(t,s),"Enter"===t.code&&this.selectors.globalNavSubmitBtn.click()})),n?.addEventListener("keydown",(e=>{const t=e;t.preventDefault(),this.handleSuggestionsListKeys(t,n),this.updateInputValue(t,n),"Enter"===t.code&&this.selectors.searchSubmitButton.click()})),n?.addEventListener("click",(e=>{this.handleResultsSuggestionsListItemClick(e)})),s?.addEventListener("click",(e=>{this.handleNavSuggestionsListItemClick(e)})),window.addEventListener("resize",o((()=>{this.closeAllSuggestionsLists()}),500))},handleResultsSuggestionsListItemClick(e){this.selectors.searchResultsInput.value=e.target.innerText,this.selectors.searchSubmitButton.click()},handleNavSuggestionsListItemClick(e){this.selectors.globalNavInput.value=e.target.innerText,this.selectors.globalNavSubmitBtn.click()},async buildSuggestionsList(e){let t;const s=this.selectors.searchInputField[e];this.isSearchResultsPage="search-page-input"===s.id;let n=a.W.sanitize(s.value).toLowerCase();if(s.value.length>=2){if(t=await this.fetchSearchData(n),!t.length)return;document.addEventListener("click",(e=>{this.handleCloseOnClick(e)}),{once:!0});const o=document.querySelectorAll(".search-bar__search-error");for(const e of o)null!==e&&e.classList.remove("search-bar__search-error_visible");if(this.selectors.suggestionsList[e].innerHTML="",this.selectors.suggestionsList[e].classList.add(this.selectors.classSelectionsListActive),this.selectors.searchInputField[e].setAttribute("aria-expanded","true"),this.addEmptyAriaAttr(this.selectors.searchInputField[e]),t.forEach(((t,s)=>{s+=1;let o=a.W.sanitize(t.Display),i=this.highlightSearch(n,o);this.selectors.suggestionsList[e].innerHTML+=`<li id="suggestion-${s}" class="search-bar__suggestions-item" aria-selected="false" role="option" tabindex="-1"><span class="search-bar__suggestions-item-text">${i}</span></li>`})),this.updatingAriaLabelForListbox(e,t),this.searchOverlayIsEnabled){const e=r(s.closest(".container"));i.p.turnOverlayOn(this.isSearchResultsPage,e?.bottom?`${e.bottom}px`:null)}}else this.closeAllSuggestionsLists()},updatingAriaLabelForListbox(e,t){this.selectors.suggestionsList[e].setAttribute("aria-label",`${t.length} suggested searches`)},closeAllSuggestionsLists(){for(const e of this.selectors.suggestionsList)e.innerHTML="",e.classList.remove(this.selectors.classSelectionsListActive),e.removeAttribute("aria-label");for(const e of this.selectors.searchInputField)e.setAttribute("aria-expanded","false");const e=window.innerWidth<780,t=!e;if(this.searchOverlayIsEnabled&&((e||this.isSearchResultsPage)&&i.p.removeOverlays(),t&&!this.isSearchResultsPage)){"flex"!==i.p.getSearchFormWrapperDisplayValue()&&i.p.removeOverlays()}},async fetchSearchData(e){const t=this.selectors.searchElement.dataset.host;return(await fetch(`${t}/xsuggest?type=json&sq=nfcusuggestquery&text=${e}`)).json()},updateAriaControls(e,t,s){e?.classList.add("highlight"),e?.setAttribute("aria-selected","true"),t?this.selectors.globalNavInput?.setAttribute("aria-activedescendant",e?.id):s&&this.selectors.searchResultsInput?.setAttribute("aria-activedescendant",e?.id)},focusOnSubmitBtn(e,t){e?this.selectors.globalNavSubmitBtn.focus():t&&this.selectors.searchSubmitButton.focus()},getFirstSuggestionAnchorEl(e,t){let s;return e?s=document.querySelector(".search-bar_global-nav .search-bar__suggestions-list_active .search-bar__suggestions-item"):t&&(s=document.querySelector(".search-bar_page-component .search-bar__suggestions-list_active .search-bar__suggestions-item")),s},getSearchInputElement(e,t){let s;return e?s=this.selectors.globalNavInput:t&&(s=this.selectors.searchResultsInput),s},getOriginalSearchTerms(e,t){let s;return e?s=this.selectors.globalNavInput?.value:t&&(s=this.selectors.searchResultsInput?.value),s},getSuggestionsListListItems(e,t){let s;return e?s=this.selectors.globalNavSearchContainer?.querySelectorAll(this.selectors.searchSuggestionItemsSelector):t&&(s=this.selectors.pageSearchContainer?.querySelectorAll(this.selectors.searchSuggestionItemsSelector)),s},setSearchFieldInputValue(e,t,s){let n;n=""===e?"":e.length&&t?t?.textContent:e,null!=s&&(s.value=n||"")},getFirstListElement(e,t){let s;return e?s=document.querySelector(".search-bar_global-nav .search-bar__suggestions-list_active li"):t&&(s=document.querySelector(".search-bar_page-component .search-bar__suggestions-list_active li")),s},getOriginalSearchQuery(e,t){let s;const n=this.getSearchInputElement(e,t);return s=n?.value,s},setOriginalSearchQuery(e){this.selectors.originalSearchQuery=e},handleInputFieldKeys(e){const t=e.target.id===this.selectors.idGlobalNavInputID,s=e.target.id===this.selectors.idSearchResultsInputID;if(e.shiftKey||"Tab"!==e.code||(e.preventDefault(),this.focusOnSubmitBtn(t,s),setTimeout((()=>{this.closeAllSuggestionsLists()}),this.selectors.debounceRate)),"ArrowDown"===e.code){const n=this.getFirstSuggestionAnchorEl(t,s),a=this.getOriginalSearchQuery(t,s);void 0!==a&&this.setOriginalSearchQuery(a),n?.focus();const o=this.getSearchInputElement(t,s),i=this.getOriginalSearchTerms(t,s);e.preventDefault(),i&&o&&this.setSearchFieldInputValue(i,n,o);const r=this.getFirstListElement(t,s);null!=r&&this.updateAriaControls(r,t,s)}},focusOnTheNextSiblingEl(){const e=document.activeElement?.nextSibling;e?.focus()},focusOnInputEl(e,t){const s=this.getSearchInputElement(e,t);s?.focus()},removeSuggestionListHighlightAndAria(e,t){const s=this.getSuggestionsListListItems(e,t);if(null!=s)for(const e of s)e.classList.remove("highlight"),e.setAttribute("aria-selected","false")},addSuggestionListHighlightAndAria(e,t){const s=document.activeElement;null!=s&&this.updateAriaControls(s,e,t)},focusOnthePreviousSiblingEl(){const e=document.activeElement?.previousSibling;e.focus()},handleSuggestionsListKeys(e,t){const s=t.id===this.selectors.idGlobalNavSuggestionsList,n=t.id===this.selectors.idSearchResultsSuggestionsList;if("Escape"===e.code){this.closeAllSuggestionsLists(),this.focusOnInputEl(s,n);const e=this.selectors.originalSearchQuery,t=this.getSearchInputElement(s,n);null!=t&&(t.value=e)}if("Tab"===e.code&&(e.preventDefault(),this.closeAllSuggestionsLists(),this.focusOnSubmitBtn(s,n)),"ArrowDown"===e.code&&(e.preventDefault(),this.focusOnTheNextSiblingEl(),this.removeSuggestionListHighlightAndAria(s,n),this.addSuggestionListHighlightAndAria(s,n)),"ArrowUp"===e.code){const t=document.activeElement?.previousSibling;t?(e.preventDefault(),this.focusOnthePreviousSiblingEl(),this.addSuggestionListHighlightAndAria(s,n)):this.focusOnInputEl(s,n)}},addEmptyAriaAttr(e){e.removeAttribute("aria-activedescendant")},updateInputValue(e,t){const s=t.id===this.selectors.idGlobalNavSuggestionsList,n=t.id===this.selectors.idSearchResultsSuggestionsList;if("ArrowUp"===e.code||"ArrowDown"===e.code){const e=this.getSearchInputElement(s,n);null!=e&&(e.value=document.activeElement?.textContent||"",document.activeElement?.classList.contains("search-bar__search-input")&&(e.value=this.selectors.originalSearchQuery,this.addEmptyAriaAttr(e)))}},handleCloseOnClick(e){for(const t of this.selectors.suggestionsList){let s=t.classList.contains(this.selectors.classSelectionsListActive);e.target!==t&&s&&this.closeAllSuggestionsLists()}},highlightSearch(e,t){if(t.indexOf(e)>=0){let s=t.split("");return s.splice(t.indexOf(e),0,"<strong>"),s.splice(t.indexOf(e)+e.length+1,0,"</strong>"),s.join("")}return t},init(){this.searchOverlayIsEnabled=i.p.searchOverlayEnabled,this.addEventListeners()}};function c(e){!function(e){sessionStorage?.setItem("pageTitle",e)}(document.title);const t=e.target,s=t.querySelector(".search-bar__search-input"),n=document.querySelectorAll(".search-bar__search-error");for(const e of n)null!==e&&e.classList.remove("search-bar__search-error_visible");if(""===s?.value){e.preventDefault(),s.setAttribute("aria-invalid","true");const n=function(e,t){const s=e.nextElementSibling;return!t||s&&s.matches(t)?s:null}(t,".search-bar__search-error");if(null===n)return void(s.required=!0);n.classList.add("search-bar__search-error_visible"),n.focus()}}const d={selectors:{globalNav:document.querySelector(".global-nav"),classExtraLinksFadeStyles:"search-bar__extra-links-container_fade-styles",classExtraLinksBlock:"search-bar__extra-links-container_display_block",extraLinks:document.getElementsByClassName("search-bar__extra-links-container")[0],searchInput:document.getElementById("q"),searchResultsInput:document.getElementById("search-page-input"),globalHeaderSearch:document.querySelector(".search-bar"),searchToggleElem:document.querySelector(".search-toggle")},handleSearchInputFocusIn(){this.selectors.searchInput?.addEventListener("focus",(()=>{const e=window.innerWidth<780;this.selectors.extraLinks&&e&&(this.selectors.extraLinks.classList.add(this.selectors.classExtraLinksFadeStyles),this.selectors.extraLinks.classList.add(this.selectors.classExtraLinksBlock))}))},handleShowOverlay(e){const{target:t}=e,s="search-page-input"===t.id;if(!(window.innerWidth<780)||s){const e=r(t.closest(".container"));i.p.turnOverlayOn(s,e?.bottom?`${e.bottom}px`:null)}},addEventListeners(){this.handleSearchInputFocusIn(),this.handleSearchToggleClicked(),this.handleShiftTabGlobalSearch()},openGlobalNavSearch(e){const t=document.querySelector(".search-bar");$(t).slideDown((function(){$(t).hasClass("search-bar search-bar_global-nav cmdr-v3")&&$(t).css("display","flex"),e.setAttribute("aria-label","Close Global Search"),e.setAttribute("aria-expanded","true"),e.classList.add("search-toggle_open"),e.innerHTML='<i class="search-close" aria-hidden="true"></i>';const s=t?.querySelector(".search-bar__search-input");s?.focus()}))},closeGlobalNavSearch(e,t){$(this.selectors.globalHeaderSearch).slideUp(),e.setAttribute("aria-label","Expand Global Search"),e.setAttribute("aria-expanded","false"),e.classList.remove("search-toggle_open"),e.innerHTML='<i class="fa fa-search" aria-hidden="true"></i>';const s=document.querySelector(".global-nav .search-form");s?.reset(),t&&i.p.removeOverlays()},handleSearchToggleClicked(){const e=i.p.searchOverlayEnabled;this.selectors.searchToggleElem?.addEventListener("click",(t=>{t.preventDefault(),null!==this.selectors.globalHeaderSearch&&n(this.selectors.globalHeaderSearch)?this.closeGlobalNavSearch(this.selectors.searchToggleElem,e):this.openGlobalNavSearch(this.selectors.searchToggleElem)}))},handleShiftTabGlobalSearch(){const e=i.p.searchOverlayEnabled;this.selectors.globalNav?.addEventListener("keydown",(t=>{const s=document.querySelector(".search-toggle_open"),a="Tab"===t.code&&t.shiftKey;null!==this.selectors.globalHeaderSearch&&n(this.selectors.globalHeaderSearch)&&a&&t.target===s&&this.closeGlobalNavSearch(this.selectors.searchToggleElem,e)}))},init(){const e=document.querySelector(".search-bar_global-nav .search-bar__search-form"),t=document.querySelector(".search-bar_page-component .search-bar__search-form"),s=document.querySelector(".global-nav"),n=void 0!==s?.dataset.enableSearchOverlay,a="true"===s?.dataset.enableSearchOverlay;n&&a&&i.p.init();i.p.searchOverlayEnabled&&this.selectors.searchInput?.addEventListener("focus",this.handleShowOverlay),null!=t&&t.addEventListener("submit",c),null!=e&&e.addEventListener("submit",c);const o=void 0!==s?.dataset.enableAutosuggest,r="true"===s?.dataset.enableAutosuggest;o&&r&&l.init(),this.addEventListeners()}}},780:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});const n={searchOverlayEnabled:!1,isSearchResultsPage:!1,selectors:{pageWrap:"page-wrap",classSearchOverlayMobile:"search-overlay_mobile",classSearchOverlayDesktop:"search-overlay_desktop",classNavSearchOverlay:"global-nav__nav_search-overlay",classSearchOverlay:"search-overlay",classSearchToggle:"search-toggle",globalNav:document.getElementsByClassName("global-nav")[0],globalNavInput:document.getElementById("q"),globalNavNavEl:document.getElementsByClassName("global-nav__nav")[0],searchResultsInput:document.getElementById("search-page-input"),pageWrap:document.getElementsByClassName("page-wrap")[0],searchOverlayMobile:document.getElementsByClassName("search-overlay_mobile")[0],searchOverlayDesktop:document.getElementsByClassName("search-overlay_desktop")[0],searchFormWrapper:document.querySelector(".search-bar_global-nav"),searchOverlayDiv:document.getElementsByClassName("search-overlay")[0],searchResultsElevatedComponents:[document.querySelector(".search-bar_page-component"),document.querySelector(".quickLinks")]},addMobileSearchOverlayStyles(){this.selectors.globalNavNavEl.classList.add(this.selectors.classNavSearchOverlay)},turnOverlayOn(e=!1,t=null){this.isSearchResultsPage=e;let s;s=window.innerWidth<780&&!e?document.getElementsByClassName(this.selectors.classSearchOverlayMobile)[0]:document.getElementsByClassName(this.selectors.classSearchOverlayDesktop)[0],s&&(s.classList.add("content-modal"),s.classList.add("open"),$(window).width()>=780&&this.selectors.globalNav.classList.add("overlay-open"),e&&(this.elevateComponents(),t&&(s.style.top=t)))},removeOverlays(){const e=document.getElementsByClassName(this.selectors.classSearchOverlay);for(const t of e)t?.classList.add("animateOut"),setTimeout((()=>{t?.classList.remove("animateOut","open"),this.selectors.globalNav.classList.contains("overlay-open")&&this.selectors.globalNav.classList.remove("overlay-open"),t&&(t.style.top=null),this.resetElevatedComponents()}),300)},elevateComponents(e=420){this.selectors.searchResultsElevatedComponents.forEach((t=>{if(!t)return;const s=t,n=window.getComputedStyle(s).position;"static"!==n&&n||(s.style.position="relative"),s.style.zIndex=e.toString(),e-=1}))},resetElevatedComponents(){this.selectors.searchResultsElevatedComponents.forEach((e=>{if(!e)return;const t=e,s=window.getComputedStyle(t).position;t.style.zIndex="","relative"===s&&(t.style.position="")}))},appendSearchOverlayDivs(){const e=document.getElementsByClassName(this.selectors.classSearchOverlayMobile)[0],t=document.getElementsByClassName(this.selectors.classSearchOverlayDesktop)[0];if(void 0===e){const e=document.createElement("div");e.classList.add(this.selectors.classSearchOverlay),e.classList.add(this.selectors.classSearchOverlayMobile),this.selectors.globalNavNavEl?.appendChild(e)}if(void 0===t){const e=document.createElement("div");e.classList.add(this.selectors.classSearchOverlay),e.classList.add(this.selectors.classSearchOverlayDesktop),this.selectors.pageWrap.appendChild(e)}},getSearchFormWrapperDisplayValue(){return this.selectors.searchFormWrapper.style.display},focusOnInput(){if(window.innerWidth<780){(this.isSearchResultsPage?this.selectors.searchResultsInput:this.selectors.globalNavInput).focus()}else if(this.isSearchResultsPage)this.selectors.searchResultsInput.focus();else{const e=document.getElementsByClassName(this.selectors.classSearchToggle)[0];e&&(e.click(),e.focus())}},addEventListeners(){if(!this.searchOverlayEnabled)return;const e=document.getElementsByClassName(this.selectors.classSearchOverlay);for(const t of e)t.addEventListener("click",(e=>{this.removeOverlays(),this.focusOnInput()}))},init(){this.searchOverlayEnabled=!0,this.appendSearchOverlayDivs(),this.addMobileSearchOverlayStyles(),this.addEventListeners()}}},85:(e,t,s)=>{"use strict";s.d(t,{v:()=>a});var n=s(418);class a{init(){if(!("$CQ"in self)){const e=document.createElement("style");e.id="antiClickjackStyle";const t=document.createTextNode("body{display:none !important;}");if(document.head.appendChild(e),e.appendChild(t),self===top){const t=document.getElementById(e.id);t.parentNode.removeChild(t)}else top.location.href=n.A.sanitize(self.location.href)}}}},975:(e,t,s)=>{"use strict";s.d(t,{W:()=>n.A});var n=s(418)},173:()=>{$.fn.extend({leanModal:function(e){return e=$.extend({closeButton:".modal_close, .externalURL, .content-modal"},e),this.each((function(){var t,s=e,n=!1;$(this).on("click",(function(e){function a(){var e=navigator.userAgent.toLowerCase();return-1!==e.indexOf("msie")&&parseInt(e.split("msie")[1])}var o=a()&&a()<=9,i=$(this).attr("href");function r(e){if(n&&(!e.keyCode||27===e.keyCode)){o?($(i).removeClass("open").attr("aria-hidden","true"),"#signInHelp"===i&&$("#signInHelp iframe").removeAttr("src style")):($(i).addClass("animateOut"),setTimeout((function(){$(i).removeClass("animateOut open").attr("aria-hidden","true"),"#signInHelp"===i&&$("#signInHelp iframe").removeAttr("src style")}),1e3)),n=!1,t.focus();var s=$.Event("modalclose");$(window).trigger(s)}}t=document.activeElement,$(i).addClass("open").focus().attr("aria-hidden","false"),n=!0,$(".content-modal > section").on("click",(function(e){e.stopPropagation()})),$(s.closeButton).on("click",r),$(document).keyup(r),e.preventDefault(),$(i).keydown((function(e){var t,s,n,a,o,i;t=$(this),9===(s=e).which&&(n=t.find("*").filter("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]").filter(":visible"),a=jQuery(":focus"),o=n.length,i=n.index(a),s.shiftKey?0===i&&(n.get(o-1).focus(),s.preventDefault()):i===o-1&&(n.get(0).focus(),s.preventDefault()))}))}))}))}})},446:e=>{!function(t,s,n,a){var o=[],i={_version:"3.12.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var s=this;setTimeout((function(){t(s[e])}),0)},addTest:function(e,t,s){o.push({name:e,fn:t,options:s})},addAsyncTest:function(e){o.push({name:null,fn:e})}},r=function(){};r.prototype=i,r=new r;var l=[];function c(e,t){return typeof e===t}var d=n.documentElement,u="svg"===d.nodeName.toLowerCase();u||function(t,s){var n,a,o=t.html5||{},i=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,r=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,l="_html5shiv",c=0,d={};function u(){var e=p.elements;return"string"==typeof e?e.split(" "):e}function h(e){var t=d[e[l]];return t||(t={},c++,e[l]=c,d[c]=t),t}function m(e,t,n){return t||(t=s),a?t.createElement(e):(n||(n=h(t)),!(o=n.cache[e]?n.cache[e].cloneNode():r.test(e)?(n.cache[e]=n.createElem(e)).cloneNode():n.createElem(e)).canHaveChildren||i.test(e)||o.tagUrn?o:n.frag.appendChild(o));var o}function g(e){e||(e=s);var t=h(e);return!p.shivCSS||n||t.hasCSS||(t.hasCSS=!!function(e,t){var s=e.createElement("p"),n=e.getElementsByTagName("head")[0]||e.documentElement;return s.innerHTML="x<style>"+t+"</style>",n.insertBefore(s.lastChild,n.firstChild)}(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),a||function(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(s){return p.shivMethods?m(s,e,t):t.createElem(s)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+u().join().replace(/[\w\-:]+/g,(function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'}))+");return n}")(p,t.frag)}(e,t),e}!function(){try{var e=s.createElement("a");e.innerHTML="<xyz></xyz>",n="hidden"in e,a=1==e.childNodes.length||function(){s.createElement("a");var e=s.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){n=!0,a=!0}}();var p={elements:o.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video",version:"3.7.3",shivCSS:!1!==o.shivCSS,supportsUnknownElements:a,shivMethods:!1!==o.shivMethods,type:"default",shivDocument:g,createElement:m,createDocumentFragment:function(e,t){if(e||(e=s),a)return e.createDocumentFragment();for(var n=(t=t||h(e)).frag.cloneNode(),o=0,i=u(),r=i.length;o<r;o++)n.createElement(i[o]);return n},addElements:function(e,t){var s=p.elements;"string"!=typeof s&&(s=s.join(" ")),"string"!=typeof e&&(e=e.join(" ")),p.elements=s+" "+e,g(t)}};t.html5=p,g(s),e.exports&&(e.exports=p)}(void 0!==s?s:this,n);var h="Moz O ms Webkit",m=i._config.usePrefixes?h.split(" "):[];function g(){return"function"!=typeof n.createElement?n.createElement(arguments[0]):u?n.createElementNS.call(n,"http://www.w3.org/2000/svg",arguments[0]):n.createElement.apply(n,arguments)}i._cssomPrefixes=m;var p={elem:g("modernizr")};r._q.push((function(){delete p.elem}));var b={style:p.elem.style};function v(e,t,s,a){var o,i,r,l,c="modernizr",h=g("div"),m=function(){var e=n.body;return e||((e=g(u?"svg":"body")).fake=!0),e}();if(parseInt(s,10))for(;s--;)(r=g("div")).id=a?a[s]:c+(s+1),h.appendChild(r);return(o=g("style")).type="text/css",o.id="s"+c,(m.fake?m:h).appendChild(o),m.appendChild(h),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(n.createTextNode(e)),h.id=c,m.fake&&(m.style.background="",m.style.overflow="hidden",l=d.style.overflow,d.style.overflow="hidden",d.appendChild(m)),i=t(h,e),m.fake&&m.parentNode?(m.parentNode.removeChild(m),d.style.overflow=l,d.offsetHeight):h.parentNode.removeChild(h),!!i}function f(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()})).replace(/^ms-/,"-ms-")}function y(e,t){var n=e.length;if("CSS"in s&&"supports"in s.CSS){for(;n--;)if(s.CSS.supports(f(e[n]),t))return!0;return!1}if("CSSSupportsRule"in s){for(var o=[];n--;)o.push("("+f(e[n])+":"+t+")");return v("@supports ("+(o=o.join(" or "))+") { #modernizr { position: absolute; } }",(function(e){return"absolute"===function(e,t,n){var a;if("getComputedStyle"in s){a=getComputedStyle.call(s,e,t);var o=s.console;null!==a?n&&(a=a.getPropertyValue(n)):o&&o[o.error?"error":"log"].call(o,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else a=!t&&e.currentStyle&&e.currentStyle[n];return a}(e,null,"position")}))}return a}function S(e){return e.replace(/([a-z])-([a-z])/g,(function(e,t,s){return t+s.toUpperCase()})).replace(/^-/,"")}r._q.unshift((function(){delete b.style}));var E=i._config.usePrefixes?h.toLowerCase().split(" "):[];function _(e,t){return function(){return e.apply(t,arguments)}}function L(e,t,s,n,o){var i=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+m.join(i+" ")+i).split(" ");return c(t,"string")||c(t,"undefined")?function(e,t,s,n){if(n=!c(n,"undefined")&&n,!c(s,"undefined")){var o=y(e,s);if(!c(o,"undefined"))return o}for(var i,r,l,d,u,h=["modernizr","tspan","samp"];!b.style&&h.length;)i=!0,b.modElem=g(h.shift()),b.style=b.modElem.style;function m(){i&&(delete b.style,delete b.modElem)}for(l=e.length,r=0;r<l;r++)if(d=e[r],u=b.style[d],~(""+d).indexOf("-")&&(d=S(d)),b.style[d]!==a){if(n||c(s,"undefined"))return m(),"pfx"!==t||d;try{b.style[d]=s}catch(e){}if(b.style[d]!==u)return m(),"pfx"!==t||d}return m(),!1}(r,t,n,o):function(e,t,s){var n;for(var a in e)if(e[a]in t)return!1===s?e[a]:c(n=t[e[a]],"function")?_(n,s||t):n;return!1}(r=(e+" "+E.join(i+" ")+i).split(" "),t,s)}i._domPrefixes=E,i.testAllProps=L;var C=function(e){var t,n=prefixes.length,o=s.CSSRule;if(void 0===o)return a;if(!e)return!1;if((t=(e=e.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in o)return"@"+e;for(var i=0;i<n;i++){var r=prefixes[i];if(r.toUpperCase()+"_"+t in o)return"@-"+r.toLowerCase()+"-"+e}return!1};i.atRule=C;var k=i.prefixed=function(e,t,s){return 0===e.indexOf("@")?C(e):(-1!==e.indexOf("-")&&(e=S(e)),t?L(e,t,s):L(e,"pfx"))};function A(e,t,s){return L(e,a,a,t,s)}r.addTest("objectfit",!!k("objectFit"),{aliases:["object-fit"]}),i.testAllProps=A,r.addTest("flexbox",A("flexBasis","1px",!0)),function(){var e,t,s,n,a,i;for(var d in o)if(o.hasOwnProperty(d)){if(e=[],(t=o[d]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(s=0;s<t.options.aliases.length;s++)e.push(t.options.aliases[s].toLowerCase());for(n=c(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)1===(i=e[a].split(".")).length?r[i[0]]=n:(r[i[0]]&&(!r[i[0]]||r[i[0]]instanceof Boolean)||(r[i[0]]=new Boolean(r[i[0]])),r[i[0]][i[1]]=n),l.push((n?"":"no-")+i.join("-"))}}(),function(e){var t=d.className,s=r._config.classPrefix||"";if(u&&(t=t.baseVal),r._config.enableJSClass){var n=new RegExp("(^|\\s)"+s+"no-js(\\s|$)");t=t.replace(n,"$1"+s+"js$2")}r._config.enableClasses&&(e.length>0&&(t+=" "+s+e.join(" "+s)),u?d.className.baseVal=t:d.className=t)}(l),delete i.addTest,delete i.addAsyncTest;for(var T=0;T<r._q.length;T++)r._q[T]();t.Modernizr=r}(window,window,document)}},s={};function n(e){var a=s[e];if(void 0!==a)return a.exports;var o=s[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,s,a,o)=>{if(!s){var i=1/0;for(d=0;d<e.length;d++){s=e[d][0],a=e[d][1],o=e[d][2];for(var r=!0,l=0;l<s.length;l++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](s[l])))?s.splice(l--,1):(r=!1,o<i&&(i=o));if(r){e.splice(d--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[s,a,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.e=()=>Promise.resolve(),n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={409:0};n.O.j=t=>0===e[t];var t=(t,s)=>{var a,o,i=s[0],r=s[1],l=s[2],c=0;if(i.some((t=>0!==e[t]))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(l)var d=l(n)}for(t&&t(s);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},s=self.webpackChunkaem_nffg_ui_frontend=self.webpackChunkaem_nffg_ui_frontend||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var a=n.O(void 0,[941],(()=>n(905)));a=n.O(a)})();