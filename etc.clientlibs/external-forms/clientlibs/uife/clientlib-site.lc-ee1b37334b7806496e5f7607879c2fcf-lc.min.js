
!function(){var e={592:function(){!function(){"use strict";var e={self:'[data-cmp-is="helloworld"]',property:'[data-cmp-hook-helloworld="property"]',message:'[data-cmp-hook-helloworld="model"]'};function t(t){t&&t.element&&function(t){t.element.removeAttribute("data-cmp-is");var n=t.element.querySelectorAll(e.property);n=1==n.length?n[0].textContent:null;var o=t.element.querySelectorAll(e.message);o=1==o.length?o[0].textContent:null,console&&console.log&&console.log("HelloWorld component JavaScript example","\nText property:\n",n,"\nModel message:\n",o)}(t)}function n(){for(var n=document.querySelectorAll(e.self),o=0;o<n.length;o++)new t({element:n[o]});var r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,a=document.querySelector("body");new r((function(n){n.forEach((function(n){var o=[].slice.call(n.addedNodes);o.length>0&&o.forEach((function(n){n.querySelectorAll&&[].slice.call(n.querySelectorAll(e.self)).forEach((function(e){new t({element:e})}))}))}))})).observe(a,{subtree:!0,childList:!0,characterData:!0})}"loading"!==document.readyState?n():document.addEventListener("DOMContentLoaded",n)}()},594:function(){!function(){"use strict";const e="Letter Preview";async function t(){const e=document.getElementById("loadwait");e.style.display="none",e.classList.remove("loader_spinner"),console.log("loader display style removed")}async function n(e,n,o){await async function(){const e=document.getElementById("loadwait");e.classList.add("loader_spinner"),e.style.display="block",console.log("loader display style added")}();const r={Request:{commsApi:!0,replaceValues:n,dcsFlow:!1,uuid:"8725d548-61a7-4c53-870d-2b99241b6abe",cfPath:o}},a=await async function(){const e=await fetch("/libs/granite/csrf/token.json");return(await e.json()).token}(),l=await fetch(e,{method:"POST",headers:{"CSRF-Token":a,"Content-Type":"application/json"},body:JSON.stringify(r)});if(!l.ok){const e=await l.json();throw new Error("Fetching letter failed. Return status code="+l.status+"; \nResponse Message: "+e.Response.response_msg+"; \nResponse Status: "+e.Response.http_status_msg+";\nFull Error Object="+JSON.stringify(e))}if("application/pdf"!==l.headers.get("Content-Type"))throw new Error("Unexpected Content-Type returned");if(200===l.status){!function(e){let n=document.getElementById("pdfPreview"),o="<embed width='100%' height='100%' name='plugin' src='data:application/pdf;base64,"+encodeURI(e)+"'>";if(null===n)throw new Error("Failed to create render location for letter!");t(),n.style.height="1000px",n.innerHTML=o}(await l.text())}}!function(){try{const o="/content/external-forms/us/en/home/pdfgen/api.dcsletterpreview.pdf",r=document.getElementById("letterpreview"),a=document.getElementById("letterpreviewxml");if(null===r||null===a)throw new Error("Required elements not found!");const l=r.getAttribute("data-cfpath"),s="<span style='color:red'>Error Occured. Make sure to use the correct Content Fragment name and try again. If the issue persists, please contact the development team.</span>";let c=document.getElementById("pdfPreview");if(null===l)throw new Error("Content Fragment Path Data Not Found!");r.addEventListener("click",(async function(){try{await n(o,!1,l)}catch(n){c.style.height="auto",c.innerHTML=s,await t(),console.error(`${e}: ${n}`)}})),a.addEventListener("click",(async function(){try{await n(o,!0,l)}catch(n){c.style.height="auto",c.innerHTML=s,await t(),console.error(`${e}: ${n}`)}}))}catch(t){console.error(`${e}: ${t}`)}}()}()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";n(592),n(594)}()}();